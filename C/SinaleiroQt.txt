 Declaraçao de bibliotecas

#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include <wiringPi.h>
#include <string.h>

// Declaração dos botoes

# define Botao_controle 28 //Botao Start - pino 38

// Declaração dos leds dos sinaleiros de carro

# define Led_VERDE_S_1 0 // pino 11
# define Led_VERDE_S_2 1 // pino 12
# define Led_VERDE_S_3 2 // pino 13

# define Led_VERMELHO_S_1 3 // pino 15
# define Led_VERMELHO_S_2 21// pino 29
# define Led_VERMELHO_S_3 22 // pino 31

# define Led_AMARELO_S_1 5// pino 18
# define Led_AMARELO_S_2 6// pino 22
# define Led_AMARELO_S_3 23// pino 33

//Declaração dos leds dos sinaleiros de pedestre

# define Led_VERDE_P_1 4 // pino 16
# define Led_VERDE_P_2 7 // pino 7

# define Led_VERMELHO_P_1 24 // pino 35
# define Led_VERMELHO_P_2 25 // pino 37

//Declaração de entradas

# define Entrada_1 26 // pino 32
# define Entrada_2 27 // pino 36
# define Entrada_3 28 // pino 38
# define Entrada_4 29 // pino 40,


int main(void)
{
	int i,j,k=0;
	char x[50],i1[]="Intermitente", i2[]="intermitente", i3[]="INTERMITENTE", n1[]="Normal", n2[]="normal", n3[]="NORMAL";
	char t11[]="Transito_1", t12[]="transito_1", t13[]="TRANSITO_1", t21[]="Transito_2", t22[]="transito_2", t23[]="TRANSITO_2";
	wiringPiSetup();
	pinMode(Led_VERDE_S_1, OUTPUT);
	pinMode(Led_VERDE_S_2, OUTPUT);
	pinMode(Led_VERDE_S_3, OUTPUT);
	pinMode(Led_VERMELHO_S_1, OUTPUT);
	pinMode(Led_VERMELHO_S_2, OUTPUT);
	pinMode(Led_VERMELHO_S_3, OUTPUT);
	pinMode(Led_AMARELO_S_1, OUTPUT);
	pinMode(Led_AMARELO_S_2, OUTPUT);
	pinMode(Led_VERDE_P_1, OUTPUT);
	pinMode(Led_VERDE_P_2, OUTPUT);
	pinMode(Led_VERMELHO_P_1, OUTPUT);
	pinMode(Led_VERMELHO_P_2, OUTPUT);
	pinMode(Entrada_1, INPUT);
	pinMode(Entrada_2, INPUT);
	pinMode(Entrada_3, INPUT);
	pinMode(Entrada_4, INPUT);
	
	pullUpDnControl(Entrada_1, PUD_UP); // configura resistor pull-up na Entrada 1
	pullUpDnControl(Entrada_2, PUD_UP); // configura resistor pull-up na Entrada 2
	pullUpDnControl(Entrada_3, PUD_UP); // configura resistor pull-up na Entrada 3
	pullUpDnControl(Entrada_4, PUD_UP); // configura resistor pull-up na Entrada 4
	
	while(1)
	{
		digitalWrite(Led_VERDE_S_1,0);
		digitalWrite(Led_VERDE_S_2,0);
		digitalWrite(Led_VERDE_S_3,0);
		digitalWrite(Led_VERMELHO_S_1,0);
		digitalWrite(Led_VERMELHO_S_2,0);
		digitalWrite(Led_VERMELHO_S_3,0);
		digitalWrite(Led_AMARELO_S_1,0);
		digitalWrite(Led_AMARELO_S_2,0);
		digitalWrite(Led_AMARELO_S_3,0);
		digitalWrite(Led_VERDE_P_1,0);
		digitalWrite(Led_VERDE_P_2,0);
		digitalWrite(Led_VERMELHO_P_1,0);
		digitalWrite(Led_VERMELHO_P_2,0);
		system("cls");
		printf("\tInsira o modo inicial que deseja iniciar: \n\tIntermitente\n\tNormal\n\tTransito_1\n\tTransito_2\n\t");
		gets(x);
		if(strcmp(x,n1)!=0 || strcmp(x,n2)!=0 || strcmp(x,n3)!=0){
			normal();	
		}else{
			if(strcmp(x,i1)!=0 || strcmp(x,i2)!=0 || strcmp(x,i3)!=0){
				intermitente();
			
			}
			else{
				if(strcmp(x,t11)!=0 || strcmp(x,t12)!=0 || strcmp(x,t13)!=0){
					transito_1();
				
				}else{
					if(strcmp(x,t21)!=0 || strcmp(x,t22)!=0 || strcmp(x,t23)!=0){
						transito_2();
					}
				}
			}
		}
	}
	return 0;
}
int intemitente(){
	while(1){
		digitalWrite(Led_AMARELO_S_1,1);
		digitalWrite(Led_AMARELO_S_2,1);
		digitalWrite(Led_AMARELO_S_3,1);
		if(digitalRead(Entrada_1) ==HIGH){
			while(digitalRead(Entrada_1) == HIGH){}
			return 1;
		}
		delay(5000);
		digitalWrite(Led_AMARELO_S_1,0);
		digitalWrite(Led_AMARELO_S_2,0);
		digitalWrite(Led_AMARELO_S_3,0);
		if(digitalRead(Entrada_1) ==HIGH){
			while(digitalRead(Entrada_1) == HIGH){}
			return 1;
		}
		delay(5000);
	 }
}
int normal(int k){
	int i,j;
	wiringPiSetup();
	pinMode(Led_VERDE_S_1, OUTPUT);
	pinMode(Led_VERDE_S_2, OUTPUT);
	pinMode(Led_VERDE_S_3, OUTPUT);
	pinMode(Led_VERMELHO_S_1, OUTPUT);
	pinMode(Led_VERMELHO_S_2, OUTPUT);
	pinMode(Led_VERMELHO_S_3, OUTPUT);
	pinMode(Led_AMARELO_S_1, OUTPUT);
	pinMode(Led_AMARELO_S_2, OUTPUT);
	pinMode(Led_VERDE_P_1, OUTPUT);
	pinMode(Led_VERDE_P_2, OUTPUT);
	pinMode(Led_VERMELHO_P_1, OUTPUT);
	pinMode(Led_VERMELHO_P_2, OUTPUT);
	pinMode(Entrada_1, INPUT);
	pinMode(Entrada_2, INPUT);
	pinMode(Entrada_3, INPUT);
	pinMode(Entrada_4, INPUT);
	pullUpDnControl(Entrada_1, PUD_UP); // configura resistor pull-up na Entrada 1
	pullUpDnControl(Entrada_2, PUD_UP); // configura resistor pull-up na Entrada 2
	pullUpDnControl(Entrada_3, PUD_UP); // configura resistor pull-up na Entrada 3
	pullUpDnControl(Entrada_4, PUD_UP); // configura resistor pull-up na Entrada 4
	while(1){
		switch(k){
			case 0:
				while(1){
			    	digitalWrite(Led_VERDE_S_1,1);
			    	digitalWrite(Led_VERMELHO_S_2,1);
					digitalWrite(Led_VERDE_P_2,1);
					digitalWrite(Led_VERMELHO_P_1,1);
					if(digitalRead(Entrada_1) ==HIGH){
						while(digitalRead(Entrada_1) == HIGH){}
						retun 0;
					}else{
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						}
						if(n==1){
							break;
						}
						delay(900000);
						digitalWrite(Led_VERMELHO_P_2,1);
						digitalWrite(Led_VERDE_S_1,0);
						digitalWrite(Led_AMARELO_S_1,1);
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_2,0);
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_2,1);
						iif(digitalRead(Entrada_1) ==HIGH){
						while(digitalRead(Entrada_1) == HIGH){}
						retun 0;
					}else{
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_2,0);
						if(digitalRead(Entrada_1) ==HIGH){
						while(digitalRead(Entrada_1) == HIGH){}
						retun 0;
					}else{
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_2,1);
						digitalWrite(Led_VERDE_P_1,1);
						digitalWrite(Led_VERDE_S_2,1);
						digitalWrite(Led_VERDE_S_3,1);
						digitalWrite(Led_VERMELHO_S_1,1);
						digitalWrite(Led_VERMELHO_S_2,0);
						digitalWrite(Led_VERMELHO_S_3,0);
						digitalWrite(Led_AMARELO_S_1,0);
						if(digitalRead(Entrada_1) ==HIGH){
						while(digitalRead(Entrada_1) == HIGH){}
						retun 0;
					}else{
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						}
						if(n==1){
							break;
						}
						delay(900000);
						digitalWrite(Led_VERMELHO_P_1,1);
						digitalWrite(Led_VERDE_S_2,0);
						digitalWrite(Led_AMARELO_S_2,1);
						if(digitalRead(Entrada_1) ==HIGH){
						while(digitalRead(Entrada_1) == HIGH){}
						retun 0;
					}else{
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_1,0);
						if(digitalRead(Entrada_1) ==HIGH){
						while(digitalRead(Entrada_1) == HIGH){}
						retun 0;
					}else{
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_1,1);
						if(digitalRead(Entrada_1) ==HIGH){
						while(digitalRead(Entrada_1) == HIGH){}
						retun 0;
					}else{
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						}
						if(n==1){
							break;
						}
						delay(2500);
			   		}
		   		break;
		   		case 1:
		   			return 0;
		   		break;
		   		case 2:
		   		while(1){
		   			digitalWrite(Led_VERMELHO_P_2,1);
					digitalWrite(Led_VERDE_P_1,1);
					digitalWrite(Led_VERDE_S_2,1);
					digitalWrite(Led_VERDE_S_3,1);
					digitalWrite(Led_VERMELHO_S_1,1);
					digitalWrite(Led_VERMELHO_S_2,0);
					digitalWrite(Led_VERMELHO_S_3,0);
					digitalWrite(Led_AMARELO_S_1,0);
					if(digitalRead(Entrada_1) ==HIGH){
						while(digitalRead(Entrada_1) == HIGH){}
						retun 0;
					}else{
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						}
						if(n==1){
							break;
						}
						delay(900000);
						digitalWrite(Led_VERMELHO_P_1,1);
						digitalWrite(Led_VERDE_S_2,0);
						digitalWrite(Led_AMARELO_S_2,1);
						if(digitalRead(Entrada_1) ==HIGH){
							while(digitalRead(Entrada_1) == HIGH){}
							retun 0;
						}else{
							if(digitalRead(Entrada_2) ==HIGH){
								while(digitalRead(Entrada_2) == HIGH){}
								k=2;
								n=1;
								}else{
									if(digitalRead(Entrada_3) ==HIGH){
										while(digitalRead(Entrada_3) == HIGH){}
										k=0;
										n=1;
									}else{
										if(digitalRead(Entrada_4) == HIGH){
											while(digitalRead(Entrada_4) == HIGH){}
											k=3;
											n=1;
										}else{
											k=0;
										}
									}
								}
							}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_1,0);
						if(digitalRead(Entrada_1) ==HIGH){
							while(digitalRead(Entrada_1) == HIGH){}
							retun 0;
						}else{
							if(digitalRead(Entrada_2) ==HIGH){
								while(digitalRead(Entrada_2) == HIGH){}
								k=2;
								n=1;
								}else{
									if(digitalRead(Entrada_3) ==HIGH){
										while(digitalRead(Entrada_3) == HIGH){}
										k=0;
										n=1;
									}else{
										if(digitalRead(Entrada_4) == HIGH){
											while(digitalRead(Entrada_4) == HIGH){}
											k=3;
											n=1;
										}else{
											k=0;
										}
									}
								}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_1,1);
						if(digitalRead(Entrada_1) ==HIGH){
							while(digitalRead(Entrada_1) == HIGH){}
							retun 0;
						}else{
							if(digitalRead(Entrada_2) ==HIGH){
								while(digitalRead(Entrada_2) == HIGH){}
								k=2;
								n=1;
								}else{
									if(digitalRead(Entrada_3) ==HIGH){
										while(digitalRead(Entrada_3) == HIGH){}
										k=0;
										n=1;
									}else{
										if(digitalRead(Entrada_4) == HIGH){
											while(digitalRead(Entrada_4) == HIGH){}
											k=3;
											n=1;
										}else{
											k=0;
										}
									}
								}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERDE_S_1,1);
						digitalWrite(Led_VERMELHO_S_2,1);
						digitalWrite(Led_VERDE_P_2,1);
						digitalWrite(Led_VERMELHO_P_1,1);
						if(digitalRead(Entrada_1) ==HIGH){
							while(digitalRead(Entrada_1) == HIGH){}
							retun 0;
						}else{
							if(digitalRead(Entrada_2) ==HIGH){
								while(digitalRead(Entrada_2) == HIGH){}
								k=2;
								n=1;
								}else{
									if(digitalRead(Entrada_3) ==HIGH){
										while(digitalRead(Entrada_3) == HIGH){}
										k=0;
										n=1;
									}else{
										if(digitalRead(Entrada_4) == HIGH){
											while(digitalRead(Entrada_4) == HIGH){}
											k=3;
											n=1;
										}else{
											k=0;
										}
									}
								}
						}
						if(n==1){
							break;
						}
						delay(900000);
						digitalWrite(Led_VERMELHO_P_2,1);
						digitalWrite(Led_VERDE_S_1,0);
						digitalWrite(Led_AMARELO_S_1,1);
						if(digitalRead(Entrada_1) ==HIGH){
							while(digitalRead(Entrada_1) == HIGH){}
							retun 0;
						}else{
							if(digitalRead(Entrada_2) ==HIGH){
								while(digitalRead(Entrada_2) == HIGH){}
								k=2;
								n=1;
								}else{
									if(digitalRead(Entrada_3) ==HIGH){
										while(digitalRead(Entrada_3) == HIGH){}
										k=0;
										n=1;
									}else{
										if(digitalRead(Entrada_4) == HIGH){
											while(digitalRead(Entrada_4) == HIGH){}
											k=3;
											n=1;
										}else{
											k=0;
										}
									}
								}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_2,0);
						if(digitalRead(Entrada_1) ==HIGH){
							while(digitalRead(Entrada_1) == HIGH){}
							retun 0;
						}else{
							if(digitalRead(Entrada_2) ==HIGH){
								while(digitalRead(Entrada_2) == HIGH){}
								k=2;
								n=1;
								}else{
									if(digitalRead(Entrada_3) ==HIGH){
										while(digitalRead(Entrada_3) == HIGH){}
										k=0;
										n=1;
									}else{
										if(digitalRead(Entrada_4) == HIGH){
											while(digitalRead(Entrada_4) == HIGH){}
											k=3;
											n=1;
										}else{
											k=0;
										}
									}
								}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_2,1);
						if(digitalRead(Entrada_1) ==HIGH){
							while(digitalRead(Entrada_1) == HIGH){}
							retun 0;
						}else{
							if(digitalRead(Entrada_2) ==HIGH){
								while(digitalRead(Entrada_2) == HIGH){}
								k=2;
								n=1;
								}else{
									if(digitalRead(Entrada_3) ==HIGH){
										while(digitalRead(Entrada_3) == HIGH){}
										k=0;
										n=1;
									}else{
										if(digitalRead(Entrada_4) == HIGH){
											while(digitalRead(Entrada_4) == HIGH){}
											k=3;
											n=1;
										}else{
											k=0;
										}
									}
								}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_2,0);
						if(digitalRead(Entrada_1) ==HIGH){
							while(digitalRead(Entrada_1) == HIGH){}
							retun 0;
						}else{
							if(digitalRead(Entrada_2) ==HIGH){
								while(digitalRead(Entrada_2) == HIGH){}
								k=2;
								n=1;
								}else{
									if(digitalRead(Entrada_3) ==HIGH){
										while(digitalRead(Entrada_3) == HIGH){}
										k=0;
										n=1;
									}else{
										if(digitalRead(Entrada_4) == HIGH){
											while(digitalRead(Entrada_4) == HIGH){}
											k=3;
											n=1;
										}else{
											k=0;
										}
									}
								}
						}
						if(n==1){
							break;
						}
						delay(2500);
					}
				break;
				case 3:
					if(Led_VERDE_S_1==HIGH){
						digitalWrite(Led_VERDE_S_1,0);
						digitalWrite(Led_AMARELO_S_1,1);
						digitalWrite(Led_VERDE_P_1,0);
						digitalWrite(Led_VERMELHO_P_1,1);
						delay(2500);
						digitalWrite(Led_VERMELHO_P_1,0);
						delay(2500);
						digitalWrite(Led_VERMELHO_P_1,1);
						delay(2500);
						digitalWrite(Led_VERMELHO_P_1,0);
						delay(2500);
						digitalWrite(Led_VERDE_S_2,1);
						digitalWrite(Led_VERDE_S_3,1);
						digitalWrite(Led_VERMELHO_S_1,1);
						digitalWrite(Led_VERMELHO_S_2,0);
						digitalWrite(Led_VERMELHO_S_3,0);
						digitalWrite(Led_AMARELO_S_1,0);
						digitalWrite(Led_VERDE_P_2,1);
						digitalWrite(Led_VERMELHO_P_1,1);
						digitalWrite(Led_VERMELHO_P_2,0);
						delay(60000);
						if(digitalRead(Entrada_1) ==HIGH){
								while(digitalRead(Entrada_1) == HIGH){}
								retun 0;
							}else{
								if(digitalRead(Entrada_2) ==HIGH){
									while(digitalRead(Entrada_2) == HIGH){}
									k=2;
									n=1;
									}else{
										if(digitalRead(Entrada_3) ==HIGH){
											while(digitalRead(Entrada_3) == HIGH){}
											k=0;
											n=1;
										}else{
											if(digitalRead(Entrada_4) == HIGH){
												while(digitalRead(Entrada_4) == HIGH){}
												k=3;
												n=1;
											}else{
												k=0;
											}
										}
									}
								}
								if(n==1){
									break;
								}
							}else{
								if(Led_VERDE_S_2==HIGH){
									digitalWrite(Led_VERDE_S_2,1);
									digitalWrite(Led_VERDE_S_3,1);
									digitalWrite(Led_VERMELHO_S_1,1);
									digitalWrite(Led_VERMELHO_S_2,0);
									digitalWrite(Led_VERMELHO_S_3,0);
									digitalWrite(Led_AMARELO_S_1,0);
									digitalWrite(Led_VERDE_P_2,1);
									digitalWrite(Led_VERMELHO_P_1,1);
									digitalWrite(Led_VERMELHO_P_2,0);
									if(digitalRead(Entrada_1) ==HIGH){
										while(digitalRead(Entrada_1) == HIGH){}
										retun 0;
										}else{
											if(digitalRead(Entrada_2) ==HIGH){
												while(digitalRead(Entrada_2) == HIGH){}
												k=2;
												n=1;
												}else{
													if(digitalRead(Entrada_3) ==HIGH){
														while(digitalRead(Entrada_3) == HIGH){}
														k=0;
														n=1;
													}else{
														if(digitalRead(Entrada_4) == HIGH){
															while(digitalRead(Entrada_4) == HIGH){}
															k=3;
															n=1;
														}else{
															k=0;
														}
													}
												}	
									
									}
									if(n==1){
										break;
									}
									delay(60000);
								}else{
									digitalWrite(Led_VERDE_S_1,0);
									digitalWrite(Led_VERDE_S_2,1);
									digitalWrite(Led_VERDE_S_3,1);
									digitalWrite(Led_VERMELHO_S_1,1);
									digitalWrite(Led_VERMELHO_S_2,0);
									digitalWrite(Led_VERMELHO_S_3,0);
									digitalWrite(Led_AMARELO_S_1,0);
									digitalWrite(Led_AMARELO_S_2,0);
									digitalWrite(Led_AMARELO_S_3,0);
									digitalWrite(Led_VERDE_P_1,1);
									digitalWrite(Led_VERDE_P_2,0);
									digitalWrite(Led_VERMELHO_P_1,1);
									digitalWrite(Led_VERMELHO_P_2,0);
									if(digitalRead(Entrada_1) ==HIGH){
										while(digitalRead(Entrada_1) == HIGH){}
										retun 0;
										}else{
											if(digitalRead(Entrada_2) ==HIGH){
												while(digitalRead(Entrada_2) == HIGH){}
												k=2;
												n=1;
												}else{
													if(digitalRead(Entrada_3) ==HIGH){
														while(digitalRead(Entrada_3) == HIGH){}
														k=0;
														n=1;
													}else{
														if(digitalRead(Entrada_4) == HIGH){
															while(digitalRead(Entrada_4) == HIGH){}
															k=3;
															n=1;
														}else{
															k=0;
														}
													}
												}	
									
									}
									if(n==1){
										break;
									}
									delay(60000);
									
																
								}
							}
						break;
						default:
							printf("Erro no sistema!");
						break;
		}
	}
}
int transito_1(int k){
	int i,j;
	wiringPiSetup();
	pinMode(Led_VERDE_S_1, OUTPUT);
	pinMode(Led_VERDE_S_2, OUTPUT);
	pinMode(Led_VERDE_S_3, OUTPUT);
	pinMode(Led_VERMELHO_S_1, OUTPUT);
	pinMode(Led_VERMELHO_S_2, OUTPUT);
	pinMode(Led_VERMELHO_S_3, OUTPUT);
	pinMode(Led_AMARELO_S_1, OUTPUT);
	pinMode(Led_AMARELO_S_2, OUTPUT);
	pinMode(Led_VERDE_P_1, OUTPUT);
	pinMode(Led_VERDE_P_2, OUTPUT);
	pinMode(Led_VERMELHO_P_1, OUTPUT);
	pinMode(Led_VERMELHO_P_2, OUTPUT);
	pinMode(Entrada_1, INPUT);
	pinMode(Entrada_2, INPUT);
	pinMode(Entrada_3, INPUT);
	pinMode(Entrada_4, INPUT);
	pullUpDnControl(Entrada_1, PUD_UP); // configura resistor pull-up na Entrada 1
	pullUpDnControl(Entrada_2, PUD_UP); // configura resistor pull-up na Entrada 2
	pullUpDnControl(Entrada_3, PUD_UP); // configura resistor pull-up na Entrada 3
	pullUpDnControl(Entrada_4, PUD_UP); // configura resistor pull-up na Entrada 4
	while(1){
		switch(k){
			case 0:
				while(1){
			    	digitalWrite(Led_VERDE_S_1,1);
			    	digitalWrite(Led_VERMELHO_S_2,1);
					digitalWrite(Led_VERDE_P_2,1);
					digitalWrite(Led_VERMELHO_P_1,1);
					if(digitalRead(Entrada_1) ==HIGH){
						while(digitalRead(Entrada_1) == HIGH){}
						retun 0;
					}else{
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						}
						if(n==1){
							break;
						}
						delay(900000);
						digitalWrite(Led_VERMELHO_P_2,1);
						digitalWrite(Led_VERDE_S_1,0);
						digitalWrite(Led_AMARELO_S_1,1);
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_2,0);
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_2,1);
						iif(digitalRead(Entrada_1) ==HIGH){
						while(digitalRead(Entrada_1) == HIGH){}
						retun 0;
					}else{
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_2,0);
						if(digitalRead(Entrada_1) ==HIGH){
						while(digitalRead(Entrada_1) == HIGH){}
						retun 0;
					}else{
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_2,1);
						digitalWrite(Led_VERDE_P_1,1);
						digitalWrite(Led_VERDE_S_2,1);
						digitalWrite(Led_VERDE_S_3,1);
						digitalWrite(Led_VERMELHO_S_1,1);
						digitalWrite(Led_VERMELHO_S_2,0);
						digitalWrite(Led_VERMELHO_S_3,0);
						digitalWrite(Led_AMARELO_S_1,0);
						if(digitalRead(Entrada_1) ==HIGH){
						while(digitalRead(Entrada_1) == HIGH){}
						retun 0;
					}else{
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						}
						if(n==1){
							break;
						}
						delay(900000);
						digitalWrite(Led_VERMELHO_P_1,1);
						digitalWrite(Led_VERDE_S_2,0);
						digitalWrite(Led_AMARELO_S_2,1);
						if(digitalRead(Entrada_1) ==HIGH){
						while(digitalRead(Entrada_1) == HIGH){}
						retun 0;
					}else{
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_1,0);
						if(digitalRead(Entrada_1) ==HIGH){
						while(digitalRead(Entrada_1) == HIGH){}
						retun 0;
					}else{
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_1,1);
						if(digitalRead(Entrada_1) ==HIGH){
						while(digitalRead(Entrada_1) == HIGH){}
						retun 0;
					}else{
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						}
						if(n==1){
							break;
						}
						delay(2500);
			   		}
		   		break;
		   		case 1:
		   			return 0;
		   		break;
		   		case 2:
		   		while(1){
		   			digitalWrite(Led_VERMELHO_P_2,1);
					digitalWrite(Led_VERDE_P_1,1);
					digitalWrite(Led_VERDE_S_2,1);
					digitalWrite(Led_VERDE_S_3,1);
					digitalWrite(Led_VERMELHO_S_1,1);
					digitalWrite(Led_VERMELHO_S_2,0);
					digitalWrite(Led_VERMELHO_S_3,0);
					digitalWrite(Led_AMARELO_S_1,0);
					if(digitalRead(Entrada_1) ==HIGH){
						while(digitalRead(Entrada_1) == HIGH){}
						retun 0;
					}else{
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						}
						if(n==1){
							break;
						}
						delay(900000);
						digitalWrite(Led_VERMELHO_P_1,1);
						digitalWrite(Led_VERDE_S_2,0);
						digitalWrite(Led_AMARELO_S_2,1);
						if(digitalRead(Entrada_1) ==HIGH){
							while(digitalRead(Entrada_1) == HIGH){}
							retun 0;
						}else{
							if(digitalRead(Entrada_2) ==HIGH){
								while(digitalRead(Entrada_2) == HIGH){}
								k=2;
								n=1;
								}else{
									if(digitalRead(Entrada_3) ==HIGH){
										while(digitalRead(Entrada_3) == HIGH){}
										k=0;
										n=1;
									}else{
										if(digitalRead(Entrada_4) == HIGH){
											while(digitalRead(Entrada_4) == HIGH){}
											k=3;
											n=1;
										}else{
											k=0;
										}
									}
								}
							}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_1,0);
						if(digitalRead(Entrada_1) ==HIGH){
							while(digitalRead(Entrada_1) == HIGH){}
							retun 0;
						}else{
							if(digitalRead(Entrada_2) ==HIGH){
								while(digitalRead(Entrada_2) == HIGH){}
								k=2;
								n=1;
								}else{
									if(digitalRead(Entrada_3) ==HIGH){
										while(digitalRead(Entrada_3) == HIGH){}
										k=0;
										n=1;
									}else{
										if(digitalRead(Entrada_4) == HIGH){
											while(digitalRead(Entrada_4) == HIGH){}
											k=3;
											n=1;
										}else{
											k=0;
										}
									}
								}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_1,1);
						if(digitalRead(Entrada_1) ==HIGH){
							while(digitalRead(Entrada_1) == HIGH){}
							retun 0;
						}else{
							if(digitalRead(Entrada_2) ==HIGH){
								while(digitalRead(Entrada_2) == HIGH){}
								k=2;
								n=1;
								}else{
									if(digitalRead(Entrada_3) ==HIGH){
										while(digitalRead(Entrada_3) == HIGH){}
										k=0;
										n=1;
									}else{
										if(digitalRead(Entrada_4) == HIGH){
											while(digitalRead(Entrada_4) == HIGH){}
											k=3;
											n=1;
										}else{
											k=0;
										}
									}
								}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERDE_S_1,1);
						digitalWrite(Led_VERMELHO_S_2,1);
						digitalWrite(Led_VERDE_P_2,1);
						digitalWrite(Led_VERMELHO_P_1,1);
						if(digitalRead(Entrada_1) ==HIGH){
							while(digitalRead(Entrada_1) == HIGH){}
							retun 0;
						}else{
							if(digitalRead(Entrada_2) ==HIGH){
								while(digitalRead(Entrada_2) == HIGH){}
								k=2;
								n=1;
								}else{
									if(digitalRead(Entrada_3) ==HIGH){
										while(digitalRead(Entrada_3) == HIGH){}
										k=0;
										n=1;
									}else{
										if(digitalRead(Entrada_4) == HIGH){
											while(digitalRead(Entrada_4) == HIGH){}
											k=3;
											n=1;
										}else{
											k=0;
										}
									}
								}
						}
						if(n==1){
							break;
						}
						delay(900000);
						digitalWrite(Led_VERMELHO_P_2,1);
						digitalWrite(Led_VERDE_S_1,0);
						digitalWrite(Led_AMARELO_S_1,1);
						if(digitalRead(Entrada_1) ==HIGH){
							while(digitalRead(Entrada_1) == HIGH){}
							retun 0;
						}else{
							if(digitalRead(Entrada_2) ==HIGH){
								while(digitalRead(Entrada_2) == HIGH){}
								k=2;
								n=1;
								}else{
									if(digitalRead(Entrada_3) ==HIGH){
										while(digitalRead(Entrada_3) == HIGH){}
										k=0;
										n=1;
									}else{
										if(digitalRead(Entrada_4) == HIGH){
											while(digitalRead(Entrada_4) == HIGH){}
											k=3;
											n=1;
										}else{
											k=0;
										}
									}
								}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_2,0);
						if(digitalRead(Entrada_1) ==HIGH){
							while(digitalRead(Entrada_1) == HIGH){}
							retun 0;
						}else{
							if(digitalRead(Entrada_2) ==HIGH){
								while(digitalRead(Entrada_2) == HIGH){}
								k=2;
								n=1;
								}else{
									if(digitalRead(Entrada_3) ==HIGH){
										while(digitalRead(Entrada_3) == HIGH){}
										k=0;
										n=1;
									}else{
										if(digitalRead(Entrada_4) == HIGH){
											while(digitalRead(Entrada_4) == HIGH){}
											k=3;
											n=1;
										}else{
											k=0;
										}
									}
								}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_2,1);
						if(digitalRead(Entrada_1) ==HIGH){
							while(digitalRead(Entrada_1) == HIGH){}
							retun 0;
						}else{
							if(digitalRead(Entrada_2) ==HIGH){
								while(digitalRead(Entrada_2) == HIGH){}
								k=2;
								n=1;
								}else{
									if(digitalRead(Entrada_3) ==HIGH){
										while(digitalRead(Entrada_3) == HIGH){}
										k=0;
										n=1;
									}else{
										if(digitalRead(Entrada_4) == HIGH){
											while(digitalRead(Entrada_4) == HIGH){}
											k=3;
											n=1;
										}else{
											k=0;
										}
									}
								}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_2,0);
						if(digitalRead(Entrada_1) ==HIGH){
							while(digitalRead(Entrada_1) == HIGH){}
							retun 0;
						}else{
							if(digitalRead(Entrada_2) ==HIGH){
								while(digitalRead(Entrada_2) == HIGH){}
								k=2;
								n=1;
								}else{
									if(digitalRead(Entrada_3) ==HIGH){
										while(digitalRead(Entrada_3) == HIGH){}
										k=0;
										n=1;
									}else{
										if(digitalRead(Entrada_4) == HIGH){
											while(digitalRead(Entrada_4) == HIGH){}
											k=3;
											n=1;
										}else{
											k=0;
										}
									}
								}
						}
						if(n==1){
							break;
						}
						delay(2500);
					}
				break;
				case 3:
					if(Led_VERDE_S_1==HIGH){
						digitalWrite(Led_VERDE_S_1,0);
						digitalWrite(Led_AMARELO_S_1,1);
						digitalWrite(Led_VERDE_P_1,0);
						digitalWrite(Led_VERMELHO_P_1,1);
						delay(2500);
						digitalWrite(Led_VERMELHO_P_1,0);
						delay(2500);
						digitalWrite(Led_VERMELHO_P_1,1);
						delay(2500);
						digitalWrite(Led_VERMELHO_P_1,0);
						delay(2500);
						digitalWrite(Led_VERDE_S_2,1);
						digitalWrite(Led_VERDE_S_3,1);
						digitalWrite(Led_VERMELHO_S_1,1);
						digitalWrite(Led_VERMELHO_S_2,0);
						digitalWrite(Led_VERMELHO_S_3,0);
						digitalWrite(Led_AMARELO_S_1,0);
						digitalWrite(Led_VERDE_P_2,1);
						digitalWrite(Led_VERMELHO_P_1,1);
						digitalWrite(Led_VERMELHO_P_2,0);
						delay(60000);
						if(digitalRead(Entrada_1) ==HIGH){
								while(digitalRead(Entrada_1) == HIGH){}
								retun 0;
							}else{
								if(digitalRead(Entrada_2) ==HIGH){
									while(digitalRead(Entrada_2) == HIGH){}
									k=2;
									n=1;
									}else{
										if(digitalRead(Entrada_3) ==HIGH){
											while(digitalRead(Entrada_3) == HIGH){}
											k=0;
											n=1;
										}else{
											if(digitalRead(Entrada_4) == HIGH){
												while(digitalRead(Entrada_4) == HIGH){}
												k=3;
												n=1;
											}else{
												k=0;
											}
										}
									}
								}
								if(n==1){
									break;
								}
							}else{
								if(Led_VERDE_S_2==HIGH){
									digitalWrite(Led_VERDE_S_2,1);
									digitalWrite(Led_VERDE_S_3,1);
									digitalWrite(Led_VERMELHO_S_1,1);
									digitalWrite(Led_VERMELHO_S_2,0);
									digitalWrite(Led_VERMELHO_S_3,0);
									digitalWrite(Led_AMARELO_S_1,0);
									digitalWrite(Led_VERDE_P_2,1);
									digitalWrite(Led_VERMELHO_P_1,1);
									digitalWrite(Led_VERMELHO_P_2,0);
									if(digitalRead(Entrada_1) ==HIGH){
										while(digitalRead(Entrada_1) == HIGH){}
										retun 0;
										}else{
											if(digitalRead(Entrada_2) ==HIGH){
												while(digitalRead(Entrada_2) == HIGH){}
												k=2;
												n=1;
												}else{
													if(digitalRead(Entrada_3) ==HIGH){
														while(digitalRead(Entrada_3) == HIGH){}
														k=0;
														n=1;
													}else{
														if(digitalRead(Entrada_4) == HIGH){
															while(digitalRead(Entrada_4) == HIGH){}
															k=3;
															n=1;
														}else{
															k=0;
														}
													}
												}	
									
									}
									if(n==1){
										break;
									}
									delay(60000);
								}else{
									digitalWrite(Led_VERDE_S_1,0);
									digitalWrite(Led_VERDE_S_2,1);
									digitalWrite(Led_VERDE_S_3,1);
									digitalWrite(Led_VERMELHO_S_1,1);
									digitalWrite(Led_VERMELHO_S_2,0);
									digitalWrite(Led_VERMELHO_S_3,0);
									digitalWrite(Led_AMARELO_S_1,0);
									digitalWrite(Led_AMARELO_S_2,0);
									digitalWrite(Led_AMARELO_S_3,0);
									digitalWrite(Led_VERDE_P_1,1);
									digitalWrite(Led_VERDE_P_2,0);
									digitalWrite(Led_VERMELHO_P_1,1);
									digitalWrite(Led_VERMELHO_P_2,0);
									if(digitalRead(Entrada_1) ==HIGH){
										while(digitalRead(Entrada_1) == HIGH){}
										retun 0;
										}else{
											if(digitalRead(Entrada_2) ==HIGH){
												while(digitalRead(Entrada_2) == HIGH){}
												k=2;
												n=1;
												}else{
													if(digitalRead(Entrada_3) ==HIGH){
														while(digitalRead(Entrada_3) == HIGH){}
														k=0;
														n=1;
													}else{
														if(digitalRead(Entrada_4) == HIGH){
															while(digitalRead(Entrada_4) == HIGH){}
															k=3;
															n=1;
														}else{
															k=0;
														}
													}
												}	
									
									}
									if(n==1){
										break;
									}
									delay(60000);
									
																
								}
							}
						break;
						default:
							printf("Erro no sistema!");
						break;
		}
	}
}
int transito_2(int k){
	int i,j;
	wiringPiSetup();
	pinMode(Led_VERDE_S_1, OUTPUT);
	pinMode(Led_VERDE_S_2, OUTPUT);
	pinMode(Led_VERDE_S_3, OUTPUT);
	pinMode(Led_VERMELHO_S_1, OUTPUT);
	pinMode(Led_VERMELHO_S_2, OUTPUT);
	pinMode(Led_VERMELHO_S_3, OUTPUT);
	pinMode(Led_AMARELO_S_1, OUTPUT);
	pinMode(Led_AMARELO_S_2, OUTPUT);
	pinMode(Led_VERDE_P_1, OUTPUT);
	pinMode(Led_VERDE_P_2, OUTPUT);
	pinMode(Led_VERMELHO_P_1, OUTPUT);
	pinMode(Led_VERMELHO_P_2, OUTPUT);
	pinMode(Entrada_1, INPUT);
	pinMode(Entrada_2, INPUT);
	pinMode(Entrada_3, INPUT);
	pinMode(Entrada_4, INPUT);
	pullUpDnControl(Entrada_1, PUD_UP); // configura resistor pull-up na Entrada 1
	pullUpDnControl(Entrada_2, PUD_UP); // configura resistor pull-up na Entrada 2
	pullUpDnControl(Entrada_3, PUD_UP); // configura resistor pull-up na Entrada 3
	pullUpDnControl(Entrada_4, PUD_UP); // configura resistor pull-up na Entrada 4
	while(1){
		switch(k){
			case 0:
				while(1){
			    	digitalWrite(Led_VERDE_S_1,1);
			    	digitalWrite(Led_VERMELHO_S_2,1);
					digitalWrite(Led_VERDE_P_2,1);
					digitalWrite(Led_VERMELHO_P_1,1);
					if(digitalRead(Entrada_1) ==HIGH){
						while(digitalRead(Entrada_1) == HIGH){}
						retun 0;
					}else{
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						}
						if(n==1){
							break;
						}
						delay(900000);
						digitalWrite(Led_VERMELHO_P_2,1);
						digitalWrite(Led_VERDE_S_1,0);
						digitalWrite(Led_AMARELO_S_1,1);
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_2,0);
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_2,1);
						iif(digitalRead(Entrada_1) ==HIGH){
						while(digitalRead(Entrada_1) == HIGH){}
						retun 0;
					}else{
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_2,0);
						if(digitalRead(Entrada_1) ==HIGH){
						while(digitalRead(Entrada_1) == HIGH){}
						retun 0;
					}else{
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_2,1);
						digitalWrite(Led_VERDE_P_1,1);
						digitalWrite(Led_VERDE_S_2,1);
						digitalWrite(Led_VERDE_S_3,1);
						digitalWrite(Led_VERMELHO_S_1,1);
						digitalWrite(Led_VERMELHO_S_2,0);
						digitalWrite(Led_VERMELHO_S_3,0);
						digitalWrite(Led_AMARELO_S_1,0);
						if(digitalRead(Entrada_1) ==HIGH){
						while(digitalRead(Entrada_1) == HIGH){}
						retun 0;
					}else{
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						}
						if(n==1){
							break;
						}
						delay(900000);
						digitalWrite(Led_VERMELHO_P_1,1);
						digitalWrite(Led_VERDE_S_2,0);
						digitalWrite(Led_AMARELO_S_2,1);
						if(digitalRead(Entrada_1) ==HIGH){
						while(digitalRead(Entrada_1) == HIGH){}
						retun 0;
					}else{
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_1,0);
						if(digitalRead(Entrada_1) ==HIGH){
						while(digitalRead(Entrada_1) == HIGH){}
						retun 0;
					}else{
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_1,1);
						if(digitalRead(Entrada_1) ==HIGH){
						while(digitalRead(Entrada_1) == HIGH){}
						retun 0;
					}else{
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						}
						if(n==1){
							break;
						}
						delay(2500);
			   		}
		   		break;
		   		case 1:
		   			return 0;
		   		break;
		   		case 2:
		   		while(1){
		   			digitalWrite(Led_VERMELHO_P_2,1);
					digitalWrite(Led_VERDE_P_1,1);
					digitalWrite(Led_VERDE_S_2,1);
					digitalWrite(Led_VERDE_S_3,1);
					digitalWrite(Led_VERMELHO_S_1,1);
					digitalWrite(Led_VERMELHO_S_2,0);
					digitalWrite(Led_VERMELHO_S_3,0);
					digitalWrite(Led_AMARELO_S_1,0);
					if(digitalRead(Entrada_1) ==HIGH){
						while(digitalRead(Entrada_1) == HIGH){}
						retun 0;
					}else{
						if(digitalRead(Entrada_2) ==HIGH){
							while(digitalRead(Entrada_2) == HIGH){}
							k=2;
							n=1;
							}else{
								if(digitalRead(Entrada_3) ==HIGH){
									while(digitalRead(Entrada_3) == HIGH){}
									k=0;
									n=1;
								}else{
									if(digitalRead(Entrada_4) == HIGH){
										while(digitalRead(Entrada_4) == HIGH){}
										k=3;
										n=1;
									}else{
										k=0;
									}
								}
							}
						}
						if(n==1){
							break;
						}
						delay(900000);
						digitalWrite(Led_VERMELHO_P_1,1);
						digitalWrite(Led_VERDE_S_2,0);
						digitalWrite(Led_AMARELO_S_2,1);
						if(digitalRead(Entrada_1) ==HIGH){
							while(digitalRead(Entrada_1) == HIGH){}
							retun 0;
						}else{
							if(digitalRead(Entrada_2) ==HIGH){
								while(digitalRead(Entrada_2) == HIGH){}
								k=2;
								n=1;
								}else{
									if(digitalRead(Entrada_3) ==HIGH){
										while(digitalRead(Entrada_3) == HIGH){}
										k=0;
										n=1;
									}else{
										if(digitalRead(Entrada_4) == HIGH){
											while(digitalRead(Entrada_4) == HIGH){}
											k=3;
											n=1;
										}else{
											k=0;
										}
									}
								}
							}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_1,0);
						if(digitalRead(Entrada_1) ==HIGH){
							while(digitalRead(Entrada_1) == HIGH){}
							retun 0;
						}else{
							if(digitalRead(Entrada_2) ==HIGH){
								while(digitalRead(Entrada_2) == HIGH){}
								k=2;
								n=1;
								}else{
									if(digitalRead(Entrada_3) ==HIGH){
										while(digitalRead(Entrada_3) == HIGH){}
										k=0;
										n=1;
									}else{
										if(digitalRead(Entrada_4) == HIGH){
											while(digitalRead(Entrada_4) == HIGH){}
											k=3;
											n=1;
										}else{
											k=0;
										}
									}
								}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_1,1);
						if(digitalRead(Entrada_1) ==HIGH){
							while(digitalRead(Entrada_1) == HIGH){}
							retun 0;
						}else{
							if(digitalRead(Entrada_2) ==HIGH){
								while(digitalRead(Entrada_2) == HIGH){}
								k=2;
								n=1;
								}else{
									if(digitalRead(Entrada_3) ==HIGH){
										while(digitalRead(Entrada_3) == HIGH){}
										k=0;
										n=1;
									}else{
										if(digitalRead(Entrada_4) == HIGH){
											while(digitalRead(Entrada_4) == HIGH){}
											k=3;
											n=1;
										}else{
											k=0;
										}
									}
								}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERDE_S_1,1);
						digitalWrite(Led_VERMELHO_S_2,1);
						digitalWrite(Led_VERDE_P_2,1);
						digitalWrite(Led_VERMELHO_P_1,1);
						if(digitalRead(Entrada_1) ==HIGH){
							while(digitalRead(Entrada_1) == HIGH){}
							retun 0;
						}else{
							if(digitalRead(Entrada_2) ==HIGH){
								while(digitalRead(Entrada_2) == HIGH){}
								k=2;
								n=1;
								}else{
									if(digitalRead(Entrada_3) ==HIGH){
										while(digitalRead(Entrada_3) == HIGH){}
										k=0;
										n=1;
									}else{
										if(digitalRead(Entrada_4) == HIGH){
											while(digitalRead(Entrada_4) == HIGH){}
											k=3;
											n=1;
										}else{
											k=0;
										}
									}
								}
						}
						if(n==1){
							break;
						}
						delay(900000);
						digitalWrite(Led_VERMELHO_P_2,1);
						digitalWrite(Led_VERDE_S_1,0);
						digitalWrite(Led_AMARELO_S_1,1);
						if(digitalRead(Entrada_1) ==HIGH){
							while(digitalRead(Entrada_1) == HIGH){}
							retun 0;
						}else{
							if(digitalRead(Entrada_2) ==HIGH){
								while(digitalRead(Entrada_2) == HIGH){}
								k=2;
								n=1;
								}else{
									if(digitalRead(Entrada_3) ==HIGH){
										while(digitalRead(Entrada_3) == HIGH){}
										k=0;
										n=1;
									}else{
										if(digitalRead(Entrada_4) == HIGH){
											while(digitalRead(Entrada_4) == HIGH){}
											k=3;
											n=1;
										}else{
											k=0;
										}
									}
								}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_2,0);
						if(digitalRead(Entrada_1) ==HIGH){
							while(digitalRead(Entrada_1) == HIGH){}
							retun 0;
						}else{
							if(digitalRead(Entrada_2) ==HIGH){
								while(digitalRead(Entrada_2) == HIGH){}
								k=2;
								n=1;
								}else{
									if(digitalRead(Entrada_3) ==HIGH){
										while(digitalRead(Entrada_3) == HIGH){}
										k=0;
										n=1;
									}else{
										if(digitalRead(Entrada_4) == HIGH){
											while(digitalRead(Entrada_4) == HIGH){}
											k=3;
											n=1;
										}else{
											k=0;
										}
									}
								}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_2,1);
						if(digitalRead(Entrada_1) ==HIGH){
							while(digitalRead(Entrada_1) == HIGH){}
							retun 0;
						}else{
							if(digitalRead(Entrada_2) ==HIGH){
								while(digitalRead(Entrada_2) == HIGH){}
								k=2;
								n=1;
								}else{
									if(digitalRead(Entrada_3) ==HIGH){
										while(digitalRead(Entrada_3) == HIGH){}
										k=0;
										n=1;
									}else{
										if(digitalRead(Entrada_4) == HIGH){
											while(digitalRead(Entrada_4) == HIGH){}
											k=3;
											n=1;
										}else{
											k=0;
										}
									}
								}
						}
						if(n==1){
							break;
						}
						delay(2500);
						digitalWrite(Led_VERMELHO_P_2,0);
						if(digitalRead(Entrada_1) ==HIGH){
							while(digitalRead(Entrada_1) == HIGH){}
							retun 0;
						}else{
							if(digitalRead(Entrada_2) ==HIGH){
								while(digitalRead(Entrada_2) == HIGH){}
								k=2;
								n=1;
								}else{
									if(digitalRead(Entrada_3) ==HIGH){
										while(digitalRead(Entrada_3) == HIGH){}
										k=0;
										n=1;
									}else{
										if(digitalRead(Entrada_4) == HIGH){
											while(digitalRead(Entrada_4) == HIGH){}
											k=3;
											n=1;
										}else{
											k=0;
										}
									}
								}
						}
						if(n==1){
							break;
						}
						delay(2500);
					}
				break;
				case 3:
					if(Led_VERDE_S_1==HIGH){
						digitalWrite(Led_VERDE_S_1,0);
						digitalWrite(Led_AMARELO_S_1,1);
						digitalWrite(Led_VERDE_P_1,0);
						digitalWrite(Led_VERMELHO_P_1,1);
						delay(2500);
						digitalWrite(Led_VERMELHO_P_1,0);
						delay(2500);
						digitalWrite(Led_VERMELHO_P_1,1);
						delay(2500);
						digitalWrite(Led_VERMELHO_P_1,0);
						delay(2500);
						digitalWrite(Led_VERDE_S_2,1);
						digitalWrite(Led_VERDE_S_3,1);
						digitalWrite(Led_VERMELHO_S_1,1);
						digitalWrite(Led_VERMELHO_S_2,0);
						digitalWrite(Led_VERMELHO_S_3,0);
						digitalWrite(Led_AMARELO_S_1,0);
						digitalWrite(Led_VERDE_P_2,1);
						digitalWrite(Led_VERMELHO_P_1,1);
						digitalWrite(Led_VERMELHO_P_2,0);
						delay(60000);
						if(digitalRead(Entrada_1) ==HIGH){
								while(digitalRead(Entrada_1) == HIGH){}
								retun 0;
							}else{
								if(digitalRead(Entrada_2) ==HIGH){
									while(digitalRead(Entrada_2) == HIGH){}
									k=2;
									n=1;
									}else{
										if(digitalRead(Entrada_3) ==HIGH){
											while(digitalRead(Entrada_3) == HIGH){}
											k=0;
											n=1;
										}else{
											if(digitalRead(Entrada_4) == HIGH){
												while(digitalRead(Entrada_4) == HIGH){}
												k=3;
												n=1;
											}else{
												k=0;
											}
										}
									}
								}
								if(n==1){
									break;
								}
							}else{
								if(Led_VERDE_S_2==HIGH){
									digitalWrite(Led_VERDE_S_2,1);
									digitalWrite(Led_VERDE_S_3,1);
									digitalWrite(Led_VERMELHO_S_1,1);
									digitalWrite(Led_VERMELHO_S_2,0);
									digitalWrite(Led_VERMELHO_S_3,0);
									digitalWrite(Led_AMARELO_S_1,0);
									digitalWrite(Led_VERDE_P_2,1);
									digitalWrite(Led_VERMELHO_P_1,1);
									digitalWrite(Led_VERMELHO_P_2,0);
									if(digitalRead(Entrada_1) ==HIGH){
										while(digitalRead(Entrada_1) == HIGH){}
										retun 0;
										}else{
											if(digitalRead(Entrada_2) ==HIGH){
												while(digitalRead(Entrada_2) == HIGH){}
												k=2;
												n=1;
												}else{
													if(digitalRead(Entrada_3) ==HIGH){
														while(digitalRead(Entrada_3) == HIGH){}
														k=0;
														n=1;
													}else{
														if(digitalRead(Entrada_4) == HIGH){
															while(digitalRead(Entrada_4) == HIGH){}
															k=3;
															n=1;
														}else{
															k=0;
														}
													}
												}	
									
									}
									if(n==1){
										break;
									}
									delay(60000);
								}else{
									digitalWrite(Led_VERDE_S_1,0);
									digitalWrite(Led_VERDE_S_2,1);
									digitalWrite(Led_VERDE_S_3,1);
									digitalWrite(Led_VERMELHO_S_1,1);
									digitalWrite(Led_VERMELHO_S_2,0);
									digitalWrite(Led_VERMELHO_S_3,0);
									digitalWrite(Led_AMARELO_S_1,0);
									digitalWrite(Led_AMARELO_S_2,0);
									digitalWrite(Led_AMARELO_S_3,0);
									digitalWrite(Led_VERDE_P_1,1);
									digitalWrite(Led_VERDE_P_2,0);
									digitalWrite(Led_VERMELHO_P_1,1);
									digitalWrite(Led_VERMELHO_P_2,0);
									if(digitalRead(Entrada_1) ==HIGH){
										while(digitalRead(Entrada_1) == HIGH){}
										retun 0;
										}else{
											if(digitalRead(Entrada_2) ==HIGH){
												while(digitalRead(Entrada_2) == HIGH){}
												k=2;
												n=1;
												}else{
													if(digitalRead(Entrada_3) ==HIGH){
														while(digitalRead(Entrada_3) == HIGH){}
														k=0;
														n=1;
													}else{
														if(digitalRead(Entrada_4) == HIGH){
															while(digitalRead(Entrada_4) == HIGH){}
															k=3;
															n=1;
														}else{
															k=0;
														}
													}
												}	
									
									}
									if(n==1){
										break;
									}
									delay(60000);
									
																
								}
							}
						break;
						default:
							printf("Erro no sistema!");
						break;
		}
	}
}r