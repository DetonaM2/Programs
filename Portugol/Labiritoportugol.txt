K#include <ncurses.h>
#include <stdio.h>
#include <stdlib.h>





int    z,coluna_atual=2, linha_atual=1,a=0,b=6,c=0,d=12;

//102
int LABIRINTO[17][105] = 
{ 
                      2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,0,0,0,
2,1,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,0,0,0,
2,1,0,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,0,0,0,1,0,0,0,1,0,0,0,1,2,0,0,0,
2,1,0,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,0,0,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,2,0,0,0,
2,1,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,2,0,0,0,
2,1,0,1,1,1,1,1,1,0,0,1,1,1,1,1,0,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,2,0,0,0,
2,1,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,1,0,0,0,0,0,0,0,1,1,1,1,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,2,0,0,0,
2,1,1,0,0,0,0,0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,2,0,0,0,
2,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,0,0,0,0,0,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,0,1,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,2,0,0,0,
2,1,1,0,0,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,0,1,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,1,1,0,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,2,0,0,0,
2,1,1,0,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,1,2,0,0,0,
2,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,1,2,0,0,0,
2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

int desenho()
{
	  char movimento;
	  initscr();
	  printw("\n\n W \nA+D \n S\n\n"); 
	  refresh();
	  movimento=getch();
	  clear();
   	  if ((movimento == 'W') || (movimento == 'w')) {
         linha_atual = linha_atual - 1;
         if (LABIRINTO[linha_atual][coluna_atual] == 1 || LABIRINTO[linha_atual][coluna_atual] == 2) {
            linha_atual = linha_atual + 1;
	    getchar();
         }
         else{
            if (LABIRINTO[linha_atual][coluna_atual]==3){
				z=6;
				return z;
           	}
			else{
				if(a<0&&a>13&&b<0&&b>13){
            		z=0;
           	 		return z;
           		}
                else{
            		z=1;
            		return z;
            	}
			}
          }
         
      }
      if ((movimento == 'S') || (movimento == 's')) {
         linha_atual = linha_atual + 1;
         if (LABIRINTO[linha_atual][coluna_atual] == 1 || LABIRINTO[linha_atual][coluna_atual] == 2) {
            linha_atual = linha_atual - 1;
	    getchar();	
         }
         else{
            if (LABIRINTO[linha_atual][coluna_atual]==3){
				z=6;
				return z;
           	}
			else{
				if(a<0&&a>13&&b<0&&b>13){
            		z=0;
           	 		return z;
           		}
                else{
            		z=2;
            		return z;
            	}
			}         
         }
         
      }
      if ((movimento == 'D') || (movimento == 'd')) {
         coluna_atual = coluna_atual + 1;
         if (LABIRINTO[linha_atual][coluna_atual] == 1 || LABIRINTO[linha_atual][coluna_atual] == 2) {
            coluna_atual = coluna_atual - 1;
	    getchar();
          }         
          else{
          	if (LABIRINTO[linha_atual][coluna_atual]==3){
				z=6;
				return z;
           	}
			else{
				if(c<0&&c>102&&d<0&&d>102){
            		z=3;
           	 		return z;
           		}
                else{
            		z=4;
            		return z;
            	}
			}          
          }            
         
      }
      if ((movimento == 'a') || (movimento == 'A')) {
         coluna_atual = coluna_atual - 1;
          if (LABIRINTO[linha_atual][coluna_atual] == 1 || LABIRINTO[linha_atual][coluna_atual] == 2)  {
            coluna_atual = coluna_atual + 1;
     	    getchar();
           }
           else{
           	if (LABIRINTO[linha_atual][coluna_atual]==3){
				z=6;
				return z;
           	}
			else{
				if(c<0&&c>102&&d<0&&d>102){
            		z=3;
           	 		return z;
           		}
                else{
            		z=5;
            		return z;
            	}
			}
           }
	 }	

}

int main()
{
   int resp,linha,coluna,op=1;
   char movimento,sair;
  
    
   while (op==1) {
      for (linha=a-2;linha<b-1;linha++) {
      for (coluna=c-5;coluna<d-5;coluna++) {
         if ((linha == linha_atual) && (coluna == coluna_atual)) {
            mvprintw(linha,coluna,"o");         
            continue;
         }
         if (LABIRINTO[linha][coluna] == 0)
            mvprintw(linha,coluna," ");
         if (LABIRINTO[linha][coluna] == 1)
            mvprintw(linha,coluna,"|");
		 if (LABIRINTO[linha][coluna] == 2)
            mvprintw(linha,coluna,"#");
		 if (LABIRINTO[linha][coluna] == 3)
            mvprintw(linha,coluna,"$");
         refresh();

      }
   	}
	  resp=desenho();
   	  if(resp==0){
   	  	a=a;
   	  	b=b;
   	  }
   	  if(resp==1){
   	  	a--;
   	  	b--;
   	  }
   	  if(resp==2){
   	  	a++;
   	  	b++;
   	  }
   	  if(resp==3){
   	  	c=c;
   	  	d=d;
   	  }
   	  if(resp==4){
   	  	c++;
   	  	d++;
   	  }
   	  if(resp==5){
   	  	c--;
   	  	d--;
   	  }
	  if(resp==6){
		op=2;
	  }
   	  endwin();
   	}
	for (linha=0;linha<13;linha++) {
        	for (coluna=0;coluna<102;coluna++) {
        		if ((linha == linha_atual) && (coluna == coluna_atual)) 
          			mvprintw(linha,coluna,"o"); 
         		if (LABIRINTO[linha][coluna] == 0)
            			mvprintw(linha,coluna," ");
         		if (LABIRINTO[linha][coluna] == 1)
            			mvprintw(linha,coluna,"|");
         		if (LABIRINTO[linha][coluna] == 2)
            			mvprintw(linha,coluna,"#");
			refresh();
	        }
   	}          
	printf("\n\n Parabéns você venceu!!\n\nPressione enter para sair...");
	scanf("%c",&sair);
	endwin();
	return 0;
}